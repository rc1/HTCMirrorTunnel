"use strict";function makeWebSocketClient(e){return W.promise(function(n,t){console.log("Connecting to websocket client:",e.wsUrl),e.wsClient=new W.JSONSocketConnection({socketUrl:e.wsUrl});var o=once(function(){$("[data-disconnected-warning]").remove(),report("CONNECTED","to:",e.wsUrl),n(e)});e.wsClient.on("open",o),e.wsClient.on("error",makeReporter("Web Socket Error")),e.wsClient.on("close",makeReporter("Web Socket Close")),e.wsClient.openSocketConnection()})}function addPunterCid(e){return W.promise(function(n,t){e.punterCid=$("[data-punter-cid]").data("punterCid"),n(e)})}function makePunterVizs(e){return W.promise(function(n,t){$("[data-punter-viz]").toArray().map(function(n){e.punterViz=PunterViz.makeViz(),e.punterViz.containerEl=n,e.punterViz.wsClient=e.wsClient;PunterViz.initViz(e.punterViz).error(function(e){console.error("Failed to create Punter app",e)}).success(function(n){if(window.location.search.indexOf("debug")>-1){var t=document.createElement("input");t.setAttribute("type","range"),t.setAttribute("min",-1),t.setAttribute("max",1),t.setAttribute("step",.01),t.setAttribute("value",.25),t.setAttribute("style","position: absolute"),$(t).asEventStream("change").map(function(e){return e.currentTarget}).map(function(e){return $(e).val()}).onValue(function(e){return PunterViz.setVelocity(n,null,e,null)}),$("#punter").prepend(t)}var o=25.714285714,r=$(window).asEventStream("deviceorientation").map(function(e){return[e.originalEvent.gamma,e.originalEvent.alpha,e.originalEvent.beta]}),i=r.map(function(e){return e[0]});r.onValue(function(e){console.log("updating",e),n.deviceRotation=e}),r.throttle(100).onValue(function(e){return PunterViz.setVelocity(n,null,W.map(e[0],-180,180,-1,1,!0),null)}),i.map(function(e){return-o>e?"backward":e>o?"forward":"none"}).skipDuplicates().throttle(100).onValue(function(n){"phone-"+e.punterCid===e.controlMode&&RestesqueUtil.post(e.wsClient,"/motor/rotation/direction/",n)}),i.map(function(e){return Math.abs(e)}).map(function(e){return e>90-o?"high":e>90-2*o?"medium":"low"}).throttle(100).onValue(function(n){"phone-"+e.punterCid===e.controlMode&&RestesqueUtil.post(e.wsClient,"/motor/rotation/speed/",n)}),console.log("Punter application made")})}),n(e)})}function makeRestRadioButtons(e){return W.promise(function(n,t){$('[data-rest-type="radio-post"]').toArray().map($).map(function(n){var t=n.parent();t.on("click touchend",function(t){return t.preventDefault(),console.log("sending",n.val(),"to",n.data("restUri")),RestesqueUtil.post(e.wsClient,n.data("restUri"),n.val()),!1})}),$('[data-rest-type="feildset"]').toArray().map($).map(function(n){function t(){RestesqueUtil.subscribeWithInitialGet(e.wsClient,n.data("restUri"),function(e){o.prop("checked",!1).checkboxradio("refresh").filter('input[value="'+e.getBody()+'"]').attr("checked","checked").checkboxradio("refresh").parent().find("label").removeClass("ui-radio-off").addClass("ui-radio-on")})}var o=n.find('input[type="radio"]').checkboxradio();console.log("Got a field set",n.data("restUri")),t(),e.wsClient.on("open",function(){console.log("Subscribnig:",n.data("restUri")),t()})}),n(e)})}function once(e){var n=!1;return function(){n||(e(),n=!0)}}function report(e,n){console.log("[",e,"]",W.rest(W.toArray(arguments)).join(" "))}function makeReporter(e,n){var t=arguments;return function(){report.apply(this,t);var e=arguments;return W.promise(function(n,t){n.apply(this,e)})}}var PunterViz=function(){function e(){return{containerEl:document.createElement("div"),backroundColor:6382180,velocity:[0,0,0],deviceRotation:[0,0,0],preRenderFns:[],preCubeCamRenderFns:[],postCubeCamRenderFns:[],wsClient:void 0}}function n(e){return W.promise(function(n,t){function o(){RestesqueUtil.subscribeWithInitialGet(app.wsClient,"/host/control/mode/",function(e){app.controlMode=e.getBody(),console.log("Control Mode Change to:",app.controlMode)})}e.controlMode="",o(),e.wsClient.on("open",o),n(e)})}function t(e){return W.promise(function(n,t){e.camera=new THREE.PerspectiveCamera(70,window.innerWidth/window.innerHeight,1,3e3),d(e,0,0,200),e.scene=new THREE.Scene,e.renderer=new THREE.WebGLRenderer({antialias:!1}),e.renderer.setPixelRatio(window.devicePixelRatio),e.renderer.setSize(window.innerWidth,window.innerHeight),e.renderer.setClearColor(e.backgroundColor),e.renderer.sortObjects=!1,e.containerEl.appendChild(e.renderer.domElement),e.renderPass=new THREE.RenderPass(e.scene,e.camera),e.vignetteShader=new THREE.ShaderPass(THREE.VignetteShader),e.vignetteShader.uniforms.offset.value=.6,e.vignetteShader.uniforms.darkness.value=2.1,e.effectCopy=new THREE.ShaderPass(THREE.CopyShader),e.effectCopy.renderToScreen=!0,e.composer=new THREE.EffectComposer(e.renderer),e.composer.addPass(e.renderPass),e.composer.addPass(e.vignetteShader),e.composer.addPass(e.effectCopy),n(e)})}function o(e){return W.promise(function(n,t){var o=document.createElement("video");o.autoplay=!0,navigator.webkitGetUserMedia({video:!0},function(e){o.src=URL.createObjectURL(e)},function(e){console.log("Failed to get a stream due to",e)}),e.webCamTexture=new THREE.Texture(o),e.webCamTexture.minFilter=THREE.LinearFilter,l(e,function(n,t){o.readyState===o.HAVE_ENOUGH_DATA&&(e.webCamTexture.needsUpdate=!0)}),n(e)})}function r(e){return W.promise(function(n,t){e.cubeCamera=new THREE.CubeCamera(1,3e3,256),e.cubeCamera.renderTarget.minFilter=THREE.LinearMipMapLinearFilter,l(e,function(n,t){e.preCubeCamRenderFns.forEach(function(e){return e(n,t)}),e.cubeCamera.updateCubeMap(e.renderer,e.scene),e.postCubeCamRenderFns.forEach(function(e){return e(n,t)})}),n(e)})}function i(e){return W.promise(function(n,t){e.webCamMaterial=new THREE.MeshBasicMaterial({map:e.webCamTexture,color:16777215,side:THREE.DoubleSide}),n(e)})}function a(e){return W.promise(function(n,t){function o(t){console.log(t.children[0]),e.webCamHedronMesh=t.children[0].clone(),e.webCamHedronMesh.material=e.webCamMaterial.clone();var o=2e3;e.webCamHedronMesh.scale.set(o,o,o);var r=W.randomBetween(2e-4,2e-5),i=W.randomBetween(2e-4,2e-5),a=W.randomBetween(2e-4,2e-5);l(e,function(n,t){e.webCamHedronMesh.rotation.x+=n*r,e.webCamHedronMesh.rotation.y+=n*i,e.webCamHedronMesh.rotation.z+=n*a}),e.scene.add(e.webCamHedronMesh),e.preCubeCamRenderFns.push(function(){e.webCamHedronMesh.visible=!0,e.webCamHedronMesh.material.color.set(16777215)}),e.postCubeCamRenderFns.push(function(){e.webCamHedronMesh.visible=!0,e.webCamHedronMesh.material.color.set(7170113)}),n(e)}var r=new THREE.OBJLoader;r.load("/obj/dodecahedron.obj",o)})}function s(e){return W.promise(function(n,t){e.scene.add(new THREE.AmbientLight(2236962));var o=new THREE.DirectionalLight(16777215,2);o.position.set(2,1.2,10).normalize(),e.scene.add(o),o=new THREE.DirectionalLight(16777215,1),o.position.set(-2,1.2,-10).normalize(),e.scene.add(o),n(e)})}function c(e){return W.promise(function(n,t){function o(e){this.positionScalar=W.interpolations.cubicEaseOut(Math.random());var n=o.initialScale*W.map(this.positionScalar,0,1,.4,1);this.mesh=e.clone(),this.anchor=new THREE.Object3D,this.anchor.add(this.mesh),this.mesh.material=o.material.clone(),this.mesh.scale.x=n,this.mesh.scale.y=n,this.mesh.scale.z=n;var t=60;this.mesh.position.set(t*(1-this.positionScalar),W.randomBetween(-50,50),0),this.mesh.rotation.x=W.randomBetween(-180,180),this.mesh.rotation.y=W.randomBetween(-180,180),this.mesh.rotation.z=W.randomBetween(-180,180),this.anchor.rotation.y+=W.randomBetween(-180,180)}function r(n){var t=n.children[0],r=100,a=5,s=20;!function c(){if(i.length<r){var n=new o(t);e.swarmObject3D.add(n.anchor),i.push(n),setTimeout(c,W.map(i.length/r,0,1,s,a,W.interpolations.easeIn))}}()}var i=[];e.swarmObject3D=new THREE.Object3D,e.scene.add(e.swarmObject3D),e.preCubeCamRenderFns.push(function(){e.swarmObject3D.visible=!1}),e.postCubeCamRenderFns.push(function(){e.swarmObject3D.visible=!0}),l(e,function(e,n){i.forEach(function(t){return t.update(e,n)})}),o.material=new THREE.MeshPhongMaterial({color:16777215,shininess:0,specular:16777215,envMap:e.cubeCamera.renderTarget,reflectivity:1,side:THREE.DoubleSide}),o.initialScale=300,o.prototype.update=function(n,t){this.anchor.rotation.x+=e.velocity[0]*(1-this.positionScalar)*.4,this.anchor.rotation.y+=e.velocity[1]*(1-this.positionScalar)*.4,this.anchor.rotation.z+=e.velocity[2]*(1-this.positionScalar)*.4,this.mesh.rotation.x+=.002,this.mesh.rotation.y+=.001,this.mesh.rotation.z+=.003};var a=new THREE.OBJLoader;a.load("/obj/pillow-box.obj",r),n(e)})}function u(e){return W.promise(function(n,t){var o=0,r=0;!function i(n){window.requestAnimationFrame(i),r=n-o,o=n,e.preRenderFns.forEach(function(e){return e(r,n)}),e.composer.render()}(o),n(e)})}function l(e,n){return e.preRenderFns.push(n),e}function d(e,n,t,o){return e.camera.position.x=n,e.camera.position.y=t,e.camera.position.z=o,e}function p(e,n,t,o){return W.isDefined(n)&&null!==n&&(e.velocity[0]=n),W.isDefined(t)&&null!==t&&(e.velocity[1]=t),W.isDefined(o)&&null!==o&&(e.velocity[2]=o),e}var m=W.composePromisers(n,t,o,i,r,a,c,s,u);return{makeViz:e,initViz:m,setVelocity:p}}(),makeApp=function(){return{wsUrl:W.join("https:"===document.location.protocol?"wss://":"ws://",document.location.host,"/")}},initApp=W.composePromisers(makeWebSocketClient,addPunterCid,makePunterVizs,makeRestRadioButtons);$(function(){initApp(makeApp()).success(function(e){report("OK","TheWorkers.net"),window.app=e})});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFsbC5qcyIsIm1haW4uanMiLCJwdW50ZXItdml6LmpzIl0sIm5hbWVzIjpbIm1ha2VXZWJTb2NrZXRDbGllbnQiLCJhcHAiLCJXIiwicHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJjb25zb2xlIiwibG9nIiwid3NVcmwiLCJ3c0NsaWVudCIsIkpTT05Tb2NrZXRDb25uZWN0aW9uIiwic29ja2V0VXJsIiwicmVzb2x2ZU9uRmlyc3RDb25uZWN0Iiwib25jZSIsIiQiLCJyZW1vdmUiLCJyZXBvcnQiLCJvbiIsIm1ha2VSZXBvcnRlciIsIm9wZW5Tb2NrZXRDb25uZWN0aW9uIiwiYWRkUHVudGVyQ2lkIiwicHVudGVyQ2lkIiwiZGF0YSIsIm1ha2VQdW50ZXJWaXpzIiwidG9BcnJheSIsIm1hcCIsImVsIiwicHVudGVyVml6IiwiUHVudGVyVml6IiwibWFrZVZpeiIsImNvbnRhaW5lckVsIiwiaW5pdFZpeiIsImVycm9yIiwiZXJyIiwic3VjY2VzcyIsInZpeiIsIndpbmRvdyIsImxvY2F0aW9uIiwic2VhcmNoIiwiaW5kZXhPZiIsInJhbmdlRWwiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJzZXRBdHRyaWJ1dGUiLCJhc0V2ZW50U3RyZWFtIiwiZXZlbnQiLCJjdXJyZW50VGFyZ2V0IiwidmFsIiwib25WYWx1ZSIsInYiLCJzZXRWZWxvY2l0eSIsInByZXBlbmQiLCJyb3RhdGlvblN0ZXAiLCJvcmllbnRhdGlvblN0cmVhbSIsImUiLCJvcmlnaW5hbEV2ZW50IiwiZ2FtbWEiLCJhbHBoYSIsImJldGEiLCJnYW1tYVN0cmVhbSIsImFyciIsImRldmljZVJvdGF0aW9uIiwidGhyb3R0bGUiLCJnIiwic2tpcER1cGxpY2F0ZXMiLCJkaXJlY3Rpb24iLCJjb250cm9sTW9kZSIsIlJlc3Rlc3F1ZVV0aWwiLCJwb3N0IiwiTWF0aCIsImFicyIsInNwZWVkIiwibWFrZVJlc3RSYWRpb0J1dHRvbnMiLCIkZWwiLCIkd3JhcHBlckVsIiwicGFyZW50IiwicHJldmVudERlZmF1bHQiLCJzdWJzY3JpYmVSYWRpb0ZlaWxkU2V0Iiwic3Vic2NyaWJlV2l0aEluaXRpYWxHZXQiLCJwYWNrZXQiLCJyYWRpb0VscyIsInByb3AiLCJjaGVja2JveHJhZGlvIiwiZmlsdGVyIiwiZ2V0Qm9keSIsImF0dHIiLCJmaW5kIiwicmVtb3ZlQ2xhc3MiLCJhZGRDbGFzcyIsImZuIiwiaGFzVHJpZ2dlcmVkIiwic3RhdHVzIiwic3RyIiwicmVzdCIsImFyZ3VtZW50cyIsImpvaW4iLCJyZXBvcnRBcmdzIiwiYXBwbHkiLCJ0aGlzIiwiY2FsbGVlQXJncyIsImJhY2tyb3VuZENvbG9yIiwidmVsb2NpdHkiLCJwcmVSZW5kZXJGbnMiLCJwcmVDdWJlQ2FtUmVuZGVyRm5zIiwicG9zdEN1YmVDYW1SZW5kZXJGbnMiLCJ1bmRlZmluZWQiLCJzdWJzY3JpYmVUb0hvc3RDb250cm9sTW9kZSIsInN1YnNjcmliZSIsIm1ha2VDYW1lcmFTY2VuZVJlbmRlcmVyIiwiY2FtZXJhIiwiVEhSRUUiLCJQZXJzcGVjdGl2ZUNhbWVyYSIsImlubmVyV2lkdGgiLCJpbm5lckhlaWdodCIsInNldENhbWVyYVBvc2l0aW9uIiwic2NlbmUiLCJTY2VuZSIsInJlbmRlcmVyIiwiV2ViR0xSZW5kZXJlciIsImFudGlhbGlhcyIsInNldFBpeGVsUmF0aW8iLCJkZXZpY2VQaXhlbFJhdGlvIiwic2V0U2l6ZSIsInNldENsZWFyQ29sb3IiLCJiYWNrZ3JvdW5kQ29sb3IiLCJzb3J0T2JqZWN0cyIsImFwcGVuZENoaWxkIiwiZG9tRWxlbWVudCIsInJlbmRlclBhc3MiLCJSZW5kZXJQYXNzIiwidmlnbmV0dGVTaGFkZXIiLCJTaGFkZXJQYXNzIiwiVmlnbmV0dGVTaGFkZXIiLCJ1bmlmb3JtcyIsIm9mZnNldCIsInZhbHVlIiwiZGFya25lc3MiLCJlZmZlY3RDb3B5IiwiQ29weVNoYWRlciIsInJlbmRlclRvU2NyZWVuIiwiY29tcG9zZXIiLCJFZmZlY3RDb21wb3NlciIsImFkZFBhc3MiLCJtYWtlV2ViQ2FtVGV4dHVyZSIsIndlYkNhbUVsIiwiYXV0b3BsYXkiLCJuYXZpZ2F0b3IiLCJ3ZWJraXRHZXRVc2VyTWVkaWEiLCJ2aWRlbyIsInN0cmVhbSIsInNyYyIsIlVSTCIsImNyZWF0ZU9iamVjdFVSTCIsIndlYkNhbVRleHR1cmUiLCJUZXh0dXJlIiwibWluRmlsdGVyIiwiTGluZWFyRmlsdGVyIiwiYWRkUHJlUmVuZGVyRm4iLCJkZXRsYU1TIiwidGltZXN0YW1wTVMiLCJyZWFkeVN0YXRlIiwiSEFWRV9FTk9VR0hfREFUQSIsIm5lZWRzVXBkYXRlIiwibWFrZUN1YmVDYW0iLCJjdWJlQ2FtZXJhIiwiQ3ViZUNhbWVyYSIsInJlbmRlclRhcmdldCIsIkxpbmVhck1pcE1hcExpbmVhckZpbHRlciIsImRlbHRhTVMiLCJmb3JFYWNoIiwidXBkYXRlQ3ViZU1hcCIsIm1ha2VXZWJDYW1NYXRlcmlhbCIsIndlYkNhbU1hdGVyaWFsIiwiTWVzaEJhc2ljTWF0ZXJpYWwiLCJjb2xvciIsInNpZGUiLCJEb3VibGVTaWRlIiwibWFrZVdlYkNhbUhlZHJvbk1lc2giLCJvbk9iakxvYWRlZCIsIm9iaiIsImNoaWxkcmVuIiwid2ViQ2FtSGVkcm9uTWVzaCIsImNsb25lIiwibWF0ZXJpYWwiLCJzY2FsZSIsInNldCIsInJvdGF0aW9uWCIsInJhbmRvbUJldHdlZW4iLCJyb3RhdGlvblkiLCJyb3RhdGlvbloiLCJyb3RhdGlvbiIsIngiLCJ5IiwieiIsImFkZCIsInB1c2giLCJ2aXNpYmxlIiwibG9hZGVyIiwiT0JKTG9hZGVyIiwibG9hZCIsIm1ha2VMaWdodHMiLCJBbWJpZW50TGlnaHQiLCJkaXJlY3Rpb25hbExpZ2h0IiwiRGlyZWN0aW9uYWxMaWdodCIsInBvc2l0aW9uIiwibm9ybWFsaXplIiwibWFrZVN3YXJtIiwiUGFydGljbGUiLCJtZXNoIiwicG9zaXRpb25TY2FsYXIiLCJpbnRlcnBvbGF0aW9ucyIsImN1YmljRWFzZU91dCIsInJhbmRvbSIsImluaXRpYWxTY2FsZSIsImFuY2hvciIsIk9iamVjdDNEIiwicmFuZ2VNYXhYIiwibWF4UGFydGljbGVzIiwibWluQ3JlYXRpb25UaW1lIiwibWF4Q3JlYXRpb25UaW1lTVMiLCJjcmVhdGVNb3JlIiwicGFydGljbGVzIiwibGVuZ3RoIiwicGFydGljbGUiLCJzd2FybU9iamVjdDNEIiwic2V0VGltZW91dCIsImVhc2VJbiIsInVwZGF0ZSIsIk1lc2hQaG9uZ01hdGVyaWFsIiwic2hpbmluZXNzIiwic3BlY3VsYXIiLCJlbnZNYXAiLCJyZWZsZWN0aXZpdHkiLCJwcm90b3R5cGUiLCJtYWtlUmVuZGVyTG9vcCIsImxhc3RUaW1lc3RhbXBNUyIsImxvb3AiLCJjdXJyZW50VGltZXN0YW1wTVMiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJyZW5kZXIiLCJpc0RlZmluZWQiLCJjb21wb3NlUHJvbWlzZXJzIiwibWFrZUFwcCIsInByb3RvY29sIiwiaG9zdCIsImluaXRBcHAiXSwibWFwcGluZ3MiOiJBQVFBLFlDeUJBLFNBQVNBLHFCQUFzQkMsR0FDM0IsTUFBT0MsR0FBRUMsUUFBUyxTQUFXQyxFQUFTQyxHQUNsQ0MsUUFBUUMsSUFBSyxrQ0FBbUNOLEVBQUlPLE9BRXBEUCxFQUFJUSxTQUFXLEdBQUlQLEdBQUVRLHNCQUNqQkMsVUFBV1YsRUFBSU8sT0FHbkIsSUFBSUksR0FBd0JDLEtBQU0sV0FDOUJDLEVBQUcsK0JBQWdDQyxTQUNuQ0MsT0FBUSxZQUFhLE1BQU9mLEVBQUlPLE9BQ2hDSixFQUFTSCxJQUdiQSxHQUFJUSxTQUFTUSxHQUFJLE9BQVFMLEdBQ3pCWCxFQUFJUSxTQUFTUSxHQUFJLFFBQVNDLGFBQWMscUJBQ3hDakIsRUFBSVEsU0FBU1EsR0FBSSxRQUFTQyxhQUFjLHFCQUN4Q2pCLEVBQUlRLFNBQVNVLHlCQUlyQixRQUFTQyxjQUFlbkIsR0FDcEIsTUFBT0MsR0FBRUMsUUFBUyxTQUFXQyxFQUFTQyxHQUNsQ0osRUFBSW9CLFVBQVlQLEVBQUcscUJBQXNCUSxLQUFNLGFBQy9DbEIsRUFBU0gsS0FPakIsUUFBU3NCLGdCQUFpQnRCLEdBQ3RCLE1B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QVMrQixLQVVqQixRQUFTMEgsR0FBaUIxSCxFQUFLc0QsR0FFM0IsTUFEQXRELEdBQUltRSxhQUFhNkYsS0FBTTFHLEdBQ2hCdEQsRUFLWCxRQUFTK0UsR0FBb0IvRSxFQUFLNEosRUFBR0MsRUFBR0MsR0FJcEMsTUFIQTlKLEdBQUkwRSxPQUFPK0YsU0FBU2IsRUFBSUEsRUFDeEI1SixFQUFJMEUsT0FBTytGLFNBQVNaLEVBQUlBLEVBQ3hCN0osRUFBSTBFLE9BQU8rRixTQUFTWCxFQUFJQSxFQUNqQjlKLEVBR1gsUUFBU2UsR0FBY2YsRUFBSzRKLEVBQUdDLEVBQUdDLEdBSTlCLE1BSEsvTCxHQUFFOE8sVUFBV2pELElBQWEsT0FBTkEsSUFBZTVKLEVBQUlrRSxTQUFVLEdBQU0wRixHQUN2RDdMLEVBQUU4TyxVQUFXaEQsSUFBYSxPQUFOQSxJQUFlN0osRUFBSWtFLFNBQVUsR0FBTTJGLEdBQ3ZEOUwsRUFBRThPLFVBQVcvQyxJQUFhLE9BQU5BLElBQWU5SixFQUFJa0UsU0FBVSxHQUFNNEYsR0FDckQ5SixFQTVhWCxHQUFJSixHQUFVN0IsRUFBRStPLGlCQUFrQnZJLEVBQ0FFLEVBQ0FtQyxFQUNBNEIsRUFDQVIsRUFFQWMsRUFDQTZCLEVBQ0FOLEVBQ0FrQyxFQXdhbEMsUUFDSTdNLFFBQVNBLEVBQ1RFLFFBQVNBLEVBQ1RtQixZQUFhQSxNRHBjakJnTSxRQUFVLFdBQ1YsT0FDSTFPLE1BQU9OLEVBQUU2RixLQUFxQyxXQUEvQnRELFNBQVNKLFNBQVM4TSxTQUF3QixTQUFXLFFBQ3JEMU0sU0FBU0osU0FBUytNLEtBQ2xCLE9BSW5CQyxRQUFVblAsRUFBRStPLGlCQUFrQmpQLG9CQUNBb0IsYUFDQUcsZUFDQWlELHFCQUVsQzFELEdBQUcsV0FDQ3VPLFFBQVNILFdBQ1JoTixRQUFTLFNBQVdqQyxHQUNqQmUsT0FBUSxLQUFNLGtCQUNkb0IsT0FBT25DLElBQU1BIiwiZmlsZSI6ImFsbC5qcyIsInNvdXJjZXNDb250ZW50IjpbbnVsbCwiLyoganNoaW50IGVzbmV4dDogdHJ1ZSAqL1xuXG4vLyBNYWluLmpzXG4vLyA9PT09PT09XG4vLyBFbnRyeSBwb2ludCBvZiB0aGUgYXBwbGljYXRpb24uXG5cbi8vIE1ha2UgJiBJbml0XG4vLyA9PT09PT09PT09PVxuXG52YXIgbWFrZUFwcCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB3c1VybDogVy5qb2luKCBkb2N1bWVudC5sb2NhdGlvbi5wcm90b2NvbCA9PT0gJ2h0dHBzOicgPyAnd3NzOi8vJyA6ICd3czovLycsXG4gICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmxvY2F0aW9uLmhvc3QsIC8vZG9jdW1lbnQuJy8vLycvLyd3c3M6Ly8xOTIuMTY4LjAuNzo3MDgwJ1xuICAgICAgICAgICAgICAgICAgICAgICAnLycgKVxuICAgIH07XG59O1xuXG52YXIgaW5pdEFwcCA9IFcuY29tcG9zZVByb21pc2VycyggbWFrZVdlYlNvY2tldENsaWVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRQdW50ZXJDaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFrZVB1bnRlclZpenMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFrZVJlc3RSYWRpb0J1dHRvbnMgKTtcblxuJCggZnVuY3Rpb24gKCkge1xuICAgIGluaXRBcHAoIG1ha2VBcHAoKSApXG4gICAgLnN1Y2Nlc3MoIGZ1bmN0aW9uICggYXBwICkge1xuICAgICAgICByZXBvcnQoICdPSycsICdUaGVXb3JrZXJzLm5ldCcgKTtcbiAgICAgICAgd2luZG93LmFwcCA9IGFwcDtcbiAgICB9KTtcbn0pO1xuXG4vLyBQcm9taXNlcnNcbi8vID09PT09PT09PVxuXG5mdW5jdGlvbiBtYWtlV2ViU29ja2V0Q2xpZW50ICggYXBwICkge1xuICAgIHJldHVybiBXLnByb21pc2UoIGZ1bmN0aW9uICggcmVzb2x2ZSwgcmVqZWN0ICkge1xuICAgICAgICBjb25zb2xlLmxvZyggJ0Nvbm5lY3RpbmcgdG8gd2Vic29ja2V0IGNsaWVudDonLCBhcHAud3NVcmwgKTtcbiAgICAgICAgXG4gICAgICAgIGFwcC53c0NsaWVudCA9IG5ldyBXLkpTT05Tb2NrZXRDb25uZWN0aW9uKHtcbiAgICAgICAgICAgIHNvY2tldFVybDogYXBwLndzVXJsXG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgdmFyIHJlc29sdmVPbkZpcnN0Q29ubmVjdCA9IG9uY2UoIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICQoICdbZGF0YS1kaXNjb25uZWN0ZWQtd2FybmluZ10nICkucmVtb3ZlKCk7XG4gICAgICAgICAgICByZXBvcnQoICdDT05ORUNURUQnLCAndG86JywgYXBwLndzVXJsICk7XG4gICAgICAgICAgICByZXNvbHZlKCBhcHAgKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgYXBwLndzQ2xpZW50Lm9uKCAnb3BlbicsIHJlc29sdmVPbkZpcnN0Q29ubmVjdCApO1xuICAgICAgICBhcHAud3NDbGllbnQub24oICdlcnJvcicsIG1ha2VSZXBvcnRlciggJ1dlYiBTb2NrZXQgRXJyb3InICkgKTtcbiAgICAgICAgYXBwLndzQ2xpZW50Lm9uKCAnY2xvc2UnLCBtYWtlUmVwb3J0ZXIoICdXZWIgU29ja2V0IENsb3NlJyApICk7XG4gICAgICAgIGFwcC53c0NsaWVudC5vcGVuU29ja2V0Q29ubmVjdGlvbigpO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBhZGRQdW50ZXJDaWQgKCBhcHAgKSB7XG4gICAgcmV0dXJuIFcucHJvbWlzZSggZnVuY3Rpb24gKCByZXNvbHZlLCByZWplY3QgKSB7XG4gICAgICAgIGFwcC5wdW50ZXJDaWQgPSAkKCAnW2RhdGEtcHVudGVyLWNpZF0nICkuZGF0YSggJ3B1bnRlckNpZCcgKTtcbiAgICAgICAgcmVzb2x2ZSggYXBwICk7XG4gICAgfSk7XG59XG5cbi8vIFB1bnRlciBWaXpcbi8vIC0tLS0tLS0tLS1cblxuZnVuY3Rpb24gbWFrZVB1bnRlclZpenMgKCBhcHAgKSB7XG4gICAgcmV0dXJuIFcucHJvbWlzZSggZnVuY3Rpb24gKCByZXNvbHZlLCByZWplY3QgKSB7XG4gICAgICAgICQoIFwiW2RhdGEtcHVudGVyLXZpel1cIiApXG4gICAgICAgICAgICAudG9BcnJheSgpXG4gICAgICAgICAgICAubWFwKCBmdW5jdGlvbiAoIGVsICkge1xuICAgICAgICAgICAgICAgIC8vIE1ha2UgdGhlIHB1bnRlciBhcHBsaWNhdGlvblxuICAgICAgICAgICAgICAgIGFwcC5wdW50ZXJWaXogPSBQdW50ZXJWaXoubWFrZVZpeigpO1xuICAgICAgICAgICAgICAgIC8vIEFkZCBvdXQgZG9tIGVsZW1lbnRcbiAgICAgICAgICAgICAgICBhcHAucHVudGVyVml6LmNvbnRhaW5lckVsID0gZWw7XG4gICAgICAgICAgICAgICAgLy8gV2ViU29ja2V0c1xuICAgICAgICAgICAgICAgIGFwcC5wdW50ZXJWaXoud3NDbGllbnQgPSBhcHAud3NDbGllbnQ7XG5cbiAgICAgICAgICAgICAgICAvLyBJbml0YWlsaXNlIGl0XG5cbiAgICAgICAgICAgICAgICB2YXIgRk9SV0FSRFNfSElHSCA9IFsgWyAnLycgXSBdO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIFB1bnRlclZpelxuICAgICAgICAgICAgICAgICAgICAuaW5pdFZpeiggYXBwLnB1bnRlclZpeiApXG4gICAgICAgICAgICAgICAgICAgIC5lcnJvciggZnVuY3Rpb24gKCBlcnIgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCAnRmFpbGVkIHRvIGNyZWF0ZSBQdW50ZXIgYXBwJywgZXJyICk7XG4gICAgICAgICAgICAgICAgICAgIH0pIFxuICAgICAgICAgICAgICAgICAgICAuc3VjY2VzcyggZnVuY3Rpb24gKCB2aXogKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIERldmljZSBSb3RhdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gPT09PT09PT09PT09PT09XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5vbi1Nb2JpbGUgLyBEZWJ1Z1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIHdpbmRvdy5sb2NhdGlvbi5zZWFyY2guaW5kZXhPZiggJ2RlYnVnJykgPiAtMSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1ha2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmFuZ2VFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICdpbnB1dCcgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYW5nZUVsLnNldEF0dHJpYnV0ZSggJ3R5cGUnLCAncmFuZ2UnICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2VFbC5zZXRBdHRyaWJ1dGUoICdtaW4nLCAtMSApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlRWwuc2V0QXR0cmlidXRlKCAnbWF4JywgMSApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlRWwuc2V0QXR0cmlidXRlKCAnc3RlcCcsIDAuMDEgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYW5nZUVsLnNldEF0dHJpYnV0ZSggJ3ZhbHVlJywgMC4yNSApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlRWwuc2V0QXR0cmlidXRlKCAnc3R5bGUnLCAncG9zaXRpb246IGFic29sdXRlJyApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCggcmFuZ2VFbCApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hc0V2ZW50U3RyZWFtKCAnY2hhbmdlJyApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoIGV2ZW50ID0+IGV2ZW50LmN1cnJlbnRUYXJnZXQgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKCBlbCA9PiAkKCBlbCApLnZhbCgpIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm9uVmFsdWUoIHYgPT4gUHVudGVyVml6LnNldFZlbG9jaXR5KCB2aXosIG51bGwsIHYsIG51bGwgKSApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCggJyNwdW50ZXInICkucHJlcGVuZCggcmFuZ2VFbCApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBNb2JpbGVcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIC0tLS0tLVxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJvdGF0aW9uU3RlcCA9IDI1LjcxNDI4NTcxNDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWRkIHRoZSByb3RhdGlvbiBjb250cm9sc1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZ2FtbWEgcmlnaHQgOTAsIGxlZnQgLTkwXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb3JpZW50YXRpb25TdHJlYW0gPSAgJCggd2luZG93IClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFzRXZlbnRTdHJlYW0oICdkZXZpY2VvcmllbnRhdGlvbicgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKCBlID0+IFsgZS5vcmlnaW5hbEV2ZW50LmdhbW1hLCBlLm9yaWdpbmFsRXZlbnQuYWxwaGEsIGUub3JpZ2luYWxFdmVudC5iZXRhIF0gKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGdhbW1hU3RyZWFtID0gb3JpZW50YXRpb25TdHJlYW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKCBhcnIgPT4gYXJyWyAwIF0gKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSBiYWNrZ3JvdW5kXG4gICAgICAgICAgICAgICAgICAgICAgICBvcmllbnRhdGlvblN0cmVhbVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5vblZhbHVlKCBmdW5jdGlvbiAoIGFyciAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCAndXBkYXRpbmcnLCBhcnIgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdml6LmRldmljZVJvdGF0aW9uID0gYXJyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBvcmllbnRhdGlvblN0cmVhbVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aHJvdHRsZSggMTAwIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAub25WYWx1ZSggYXJyID0+IFB1bnRlclZpei5zZXRWZWxvY2l0eSggdml6LCBudWxsLCBXLm1hcCggYXJyWzBdLCAtMTgwLCAxODAsIC0xLCAxLCB0cnVlICksIG51bGwgKSApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBvcmllbnRhdGlvblN0cmVhbVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIC5vblZhbHVlKCBhcnIgPT4gdml6LmNhbWVyYS5yb3RhdGlvbi56ID0gYXJyWyAxIF0gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBbIGJoLCBibSwgYmwsIG4sIGZsLCBmbSwgZmggXVxuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBGb3J3YXJkcyAmIEJhY2t3YXJkc1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2FtbWFTdHJlYW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKCBmdW5jdGlvbiAoIGcgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICggZyA8IC1yb3RhdGlvblN0ZXAgKSB7IHJldHVybiAnYmFja3dhcmQnOyB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKCBnID4gcm90YXRpb25TdGVwICkgeyByZXR1cm4gJ2ZvcndhcmQnOyB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgeyByZXR1cm4gJ25vbmUnOyB9IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnNraXBEdXBsaWNhdGVzKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhyb3R0bGUoIDEwMCApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLm9uVmFsdWUoIGZ1bmN0aW9uICggZGlyZWN0aW9uICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoICdwaG9uZS0nICsgYXBwLnB1bnRlckNpZCA9PT0gYXBwLmNvbnRyb2xNb2RlICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUmVzdGVzcXVlVXRpbC5wb3N0KCBhcHAud3NDbGllbnQsICcvbW90b3Ivcm90YXRpb24vZGlyZWN0aW9uLycsIGRpcmVjdGlvbiApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNwZWVkXG4gICAgICAgICAgICAgICAgICAgICAgICBnYW1tYVN0cmVhbVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoIGcgPT4gTWF0aC5hYnMoIGcgKSApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCggZnVuY3Rpb24gKCBnICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIGcgPiA5MCAtIHJvdGF0aW9uU3RlcCApIHsgcmV0dXJuICdoaWdoJzsgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICggZyA+IDkwIC0gKCByb3RhdGlvblN0ZXAgKiAyICkgKSB7IHJldHVybiAnbWVkaXVtJzsgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsgcmV0dXJuICdsb3cnOyB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhyb3R0bGUoIDEwMCApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLm9uVmFsdWUoIGZ1bmN0aW9uICggc3BlZWQgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICggJ3Bob25lLScgKyBhcHAucHVudGVyQ2lkID09PSBhcHAuY29udHJvbE1vZGUgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZXN0ZXNxdWVVdGlsLnBvc3QoIGFwcC53c0NsaWVudCwgJy9tb3Rvci9yb3RhdGlvbi9zcGVlZC8nLCBzcGVlZCApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCAnUHVudGVyIGFwcGxpY2F0aW9uIG1hZGUnICk7XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgcmVzb2x2ZSggYXBwICk7XG4gICAgfSk7XG59XG5cbi8vIGpRdWVyeSBNb2JpbGUgVWkgQmluZGluZ3Ncbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZnVuY3Rpb24gbWFrZVJlc3RSYWRpb0J1dHRvbnMgKCBhcHAgKSB7XG4gICAgcmV0dXJuIFcucHJvbWlzZSggZnVuY3Rpb24gKCByZXNvbHZlLCByZWplY3QgKSB7XG4gICAgICAgIC8vIFJhZGlvIEJ1dHRvbnNcbiAgICAgICAgLy8gPT09PT09PT09PT09PVxuICAgICAgICAkKCAnW2RhdGEtcmVzdC10eXBlPVwicmFkaW8tcG9zdFwiXScgKVxuICAgICAgICAgICAgLnRvQXJyYXkoKVxuICAgICAgICAgICAgLm1hcCggJCApXG4gICAgICAgICAgICAubWFwKCBmdW5jdGlvbiAoICRlbCApIHtcbiAgICAgICAgICAgICAgICAvLyBEaXNhYmxlIHJlYWwgZXZlbnRzXG4gICAgICAgICAgICAgICAgdmFyICR3cmFwcGVyRWwgPSAkZWwucGFyZW50KCk7XG4gICAgICAgICAgICAgICAgJHdyYXBwZXJFbC5vbiggJ2NsaWNrIHRvdWNoZW5kJywgZnVuY3Rpb24gKCBlICkge1xuICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCAnc2VuZGluZycsJGVsLnZhbCgpLCAndG8nLCAkZWwuZGF0YSggJ3Jlc3RVcmknICkgICk7XG4gICAgICAgICAgICAgICAgICAgIFJlc3Rlc3F1ZVV0aWwucG9zdCggYXBwLndzQ2xpZW50LCAkZWwuZGF0YSggJ3Jlc3RVcmknICksICRlbC52YWwoKSApO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAvLyBSYWRpbyBGaWVsZCBTZXRzXG4gICAgICAgIC8vID09PT09PT09PT09PT09PT1cbiAgICAgICAgJCggJ1tkYXRhLXJlc3QtdHlwZT1cImZlaWxkc2V0XCJdJyApXG4gICAgICAgICAgICAudG9BcnJheSgpXG4gICAgICAgICAgICAubWFwKCAkIClcbiAgICAgICAgICAgIC5tYXAoIGZ1bmN0aW9uICggJGVsICkge1xuXG4gICAgICAgICAgICAgICAgdmFyIHJhZGlvRWxzID0gJGVsLmZpbmQoICdpbnB1dFt0eXBlPVwicmFkaW9cIl0nICkuY2hlY2tib3hyYWRpbygpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCAgJ0dvdCBhIGZpZWxkIHNldCcsICRlbC5kYXRhKCAncmVzdFVyaScgKSApO1xuXG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlUmFkaW9GZWlsZFNldCgpO1xuICAgICAgICAgICAgICAgIGFwcC53c0NsaWVudC5vbiggJ29wZW4nLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCAnU3Vic2NyaWJuaWc6JywgICRlbC5kYXRhKCAncmVzdFVyaScgKSApO1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVSYWRpb0ZlaWxkU2V0KCk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBzdWJzY3JpYmVSYWRpb0ZlaWxkU2V0KCkge1xuICAgICAgICAgICAgICAgICAgICBSZXN0ZXNxdWVVdGlsLnN1YnNjcmliZVdpdGhJbml0aWFsR2V0KCBhcHAud3NDbGllbnQsICRlbC5kYXRhKCAncmVzdFVyaScgKSwgZnVuY3Rpb24gKCBwYWNrZXQgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByYWRpb0Vsc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5wcm9wKCAnY2hlY2tlZCcsIGZhbHNlIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY2hlY2tib3hyYWRpbyggJ3JlZnJlc2gnIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKCAnaW5wdXRbdmFsdWU9XCInKyBwYWNrZXQuZ2V0Qm9keSgpICsnXCJdJyApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoICdjaGVja2VkJywgJ2NoZWNrZWQnIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY2hlY2tib3hyYWRpbyggJ3JlZnJlc2gnIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAucGFyZW50KClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZmluZCggJ2xhYmVsJyApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlbW92ZUNsYXNzKCAndWktcmFkaW8tb2ZmJyApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFkZENsYXNzKCAndWktcmFkaW8tb24nICk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgcmVzb2x2ZSggYXBwICk7XG4gICAgfSk7XG59XG5cbi8vIFV0aWxzXG4vLyA9PT09PVxuXG4vLyBGdW5jdGlvblxuLy8gLS0tLS0tLS1cbiAgICBcbmZ1bmN0aW9uIG9uY2UgKCBmbiApIHtcbiAgICB2YXIgaGFzVHJpZ2dlcmVkID0gZmFsc2U7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCAhIGhhc1RyaWdnZXJlZCApIHtcbiAgICAgICAgICAgIGZuKCk7XG4gICAgICAgICAgICBoYXNUcmlnZ2VyZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfTtcbn1cblxuLy8gUmVwb3J0aW5nXG4vLyAtLS0tLS0tLS1cblxuZnVuY3Rpb24gcmVwb3J0KCBzdGF0dXMsIHN0ciApIHtcbiAgICBjb25zb2xlLmxvZyggJ1snLCBzdGF0dXMsICddJywgVy5yZXN0KCBXLnRvQXJyYXkoIGFyZ3VtZW50cyApICkuam9pbiggJyAnICkgKTtcbn1cblxuZnVuY3Rpb24gbWFrZVJlcG9ydGVyKCBzdGF0dXMsIHN0ciApIHtcbiAgICB2YXIgcmVwb3J0QXJncyA9IGFyZ3VtZW50cztcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXBvcnQuYXBwbHkoIHRoaXMsIHJlcG9ydEFyZ3MgKTtcbiAgICAgICAgdmFyIGNhbGxlZUFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICAgIHJldHVybiBXLnByb21pc2UoIGZ1bmN0aW9uICggcmVzb2x2ZSwgcmVqZWN0ICkge1xuICAgICAgICAgICAgcmVzb2x2ZS5hcHBseSggdGhpcywgY2FsbGVlQXJncyApO1xuICAgICAgICB9KTtcbiAgICB9O1xufVxuIiwiLyoganNoaW50IGVzbmV4dDogdHJ1ZSAqL1xuXG4vLyBQdW50ZXIgVml6XG4vLyA9PT09PT09PT09XG4vLyBBIHRocmVlLmpzIHZpc3VsaXNhdGlvbiB0byBiZVxuLy8gcnVuIG9uIGFuIEhUQyBwaG9uZSBhbmQgY2FycmllZCBieVxuLy8gcHVudGVycyBpbnRvIHRoZSBtaXJyb3IgYm94LlxuXG52YXIgUHVudGVyVml6ID0gKGZ1bmN0aW9uICgpIHtcblxuICAgIC8vIEluaXQgJiBtYWtlXG4gICAgLy8gPT09PT09PT09PT1cbiAgICBmdW5jdGlvbiBtYWtlVml6ICgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNvbnRhaW5lckVsOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAnZGl2JyApLFxuICAgICAgICAgICAgYmFja3JvdW5kQ29sb3I6IDB4NjE2MjY0LFxuICAgICAgICAgICAgdmVsb2NpdHk6IFsgMCwgMCwgMCBdLFxuICAgICAgICAgICAgZGV2aWNlUm90YXRpb246IFsgMCwgMCwgMCBdLFxuICAgICAgICAgICAgcHJlUmVuZGVyRm5zOiBbXSxcbiAgICAgICAgICAgIHByZUN1YmVDYW1SZW5kZXJGbnM6IFtdLFxuICAgICAgICAgICAgcG9zdEN1YmVDYW1SZW5kZXJGbnM6IFtdLFxuICAgICAgICAgICAgd3NDbGllbnQ6IHVuZGVmaW5lZFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHZhciBpbml0Vml6ID0gVy5jb21wb3NlUHJvbWlzZXJzKCBzdWJzY3JpYmVUb0hvc3RDb250cm9sTW9kZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFrZUNhbWVyYVNjZW5lUmVuZGVyZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ha2VXZWJDYW1UZXh0dXJlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYWtlV2ViQ2FtTWF0ZXJpYWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ha2VDdWJlQ2FtLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBtYWtlV2ViQ2FtQm94TWVzaCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFrZVdlYkNhbUhlZHJvbk1lc2gsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ha2VTd2FybSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFrZUxpZ2h0cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFrZVJlbmRlckxvb3AgKTtcblxuICAgIC8vIFByb21pc2Vyc1xuICAgIC8vID09PT09PT09PVxuXG4gICAgLy8gUmVzdGVzcXVlXG4gICAgLy8gLS0tLS0tLS0tXG4gICAgZnVuY3Rpb24gc3Vic2NyaWJlVG9Ib3N0Q29udHJvbE1vZGUgKCB2aXogKSB7XG4gICAgICAgIHJldHVybiBXLnByb21pc2UoIGZ1bmN0aW9uICggcmVzb2x2ZSwgcmVqZWN0ICkge1xuICAgICAgICAgICAgdml6LmNvbnRyb2xNb2RlID0gJyc7XG5cbiAgICAgICAgICAgIHN1YnNjcmliZSgpO1xuICAgICAgICAgICAgdml6LndzQ2xpZW50Lm9uKCAnb3BlbicsIHN1YnNjcmliZSApO1xuXG4gICAgICAgICAgICBmdW5jdGlvbiBzdWJzY3JpYmUgKCkge1xuICAgICAgICAgICAgICAgIFJlc3Rlc3F1ZVV0aWxcbiAgICAgICAgICAgICAgICAgICAgLnN1YnNjcmliZVdpdGhJbml0aWFsR2V0KCBhcHAud3NDbGllbnQsICcvaG9zdC9jb250cm9sL21vZGUvJywgZnVuY3Rpb24gKCBwYWNrZXQgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcHAuY29udHJvbE1vZGUgPSBwYWNrZXQuZ2V0Qm9keSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coICdDb250cm9sIE1vZGUgQ2hhbmdlIHRvOicsIGFwcC5jb250cm9sTW9kZSApO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmVzb2x2ZSggdml6ICk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIENhbWVyYSwgU2NlbmUsIFJlbmRlcmVyXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICBmdW5jdGlvbiBtYWtlQ2FtZXJhU2NlbmVSZW5kZXJlciAoIHZpeiApIHtcbiAgICAgICAgcmV0dXJuIFcucHJvbWlzZSggZnVuY3Rpb24gKCByZXNvbHZlLCByZWplY3QgKSB7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIENhbWVyYVxuICAgICAgICAgICAgLy8gLS0tLS0tXG4gICAgICAgICAgICB2aXouY2FtZXJhID0gbmV3IFRIUkVFLlBlcnNwZWN0aXZlQ2FtZXJhKCA3MCwgd2luZG93LmlubmVyV2lkdGggLyB3aW5kb3cuaW5uZXJIZWlnaHQsIDEsIDMwMDAgKTtcbiAgICAgICAgICAgIHNldENhbWVyYVBvc2l0aW9uKCB2aXosIDAsIDAsIDIwMCApO1xuXG4gICAgICAgICAgICAvLyBTY2VuZVxuICAgICAgICAgICAgLy8gLS0tLS1cbiAgICAgICAgICAgIHZpei5zY2VuZSA9IG5ldyBUSFJFRS5TY2VuZSgpO1xuXG4gICAgICAgICAgICAvLyBSZW5kZXJlclxuICAgICAgICAgICAgLy8gLS0tLS0tLS1cbiAgICAgICAgICAgIHZpei5yZW5kZXJlciA9IG5ldyBUSFJFRS5XZWJHTFJlbmRlcmVyKCB7IGFudGlhbGlhczogZmFsc2UgfSApO1xuICAgICAgICAgICAgdml6LnJlbmRlcmVyLnNldFBpeGVsUmF0aW8oIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvICk7XG4gICAgICAgICAgICB2aXoucmVuZGVyZXIuc2V0U2l6ZSggd2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodCApO1xuICAgICAgICAgICAgdml6LnJlbmRlcmVyLnNldENsZWFyQ29sb3IoIHZpei5iYWNrZ3JvdW5kQ29sb3IgKTtcbiAgICAgICAgICAgIHZpei5yZW5kZXJlci5zb3J0T2JqZWN0cyA9IGZhbHNlO1xuXG4gICAgICAgICAgICB2aXouY29udGFpbmVyRWwuYXBwZW5kQ2hpbGQoIHZpei5yZW5kZXJlci5kb21FbGVtZW50ICk7XG5cbiAgICAgICAgICAgIC8vIEVmZmVjdHNcbiAgICAgICAgICAgIC8vIC0tLS0tLS1cbiAgICAgICAgICAgIHZpei5yZW5kZXJQYXNzID0gbmV3IFRIUkVFLlJlbmRlclBhc3MoIHZpei5zY2VuZSwgdml6LmNhbWVyYSApO1xuICAgICAgICAgICAgdml6LnZpZ25ldHRlU2hhZGVyID0gbmV3IFRIUkVFLlNoYWRlclBhc3MoIFRIUkVFLlZpZ25ldHRlU2hhZGVyICk7XG4gICAgICAgICAgICB2aXoudmlnbmV0dGVTaGFkZXIudW5pZm9ybXMub2Zmc2V0LnZhbHVlID0gMC42O1xuICAgICAgICAgICAgdml6LnZpZ25ldHRlU2hhZGVyLnVuaWZvcm1zLmRhcmtuZXNzLnZhbHVlID0gMi4xO1xuXG4gICAgICAgICAgICB2aXouZWZmZWN0Q29weSA9IG5ldyBUSFJFRS5TaGFkZXJQYXNzKCBUSFJFRS5Db3B5U2hhZGVyICk7XG4gICAgICAgICAgICB2aXouZWZmZWN0Q29weS5yZW5kZXJUb1NjcmVlbiA9IHRydWU7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdml6LmNvbXBvc2VyID0gbmV3IFRIUkVFLkVmZmVjdENvbXBvc2VyKCB2aXoucmVuZGVyZXIgKTtcbiAgICAgICAgICAgIHZpei5jb21wb3Nlci5hZGRQYXNzKCB2aXoucmVuZGVyUGFzcyApO1xuICAgICAgICAgICAgdml6LmNvbXBvc2VyLmFkZFBhc3MoIHZpei52aWduZXR0ZVNoYWRlciApO1xuICAgICAgICAgICAgdml6LmNvbXBvc2VyLmFkZFBhc3MoIHZpei5lZmZlY3RDb3B5ICk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHJlc29sdmUoIHZpeiApO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBXZWIgQ2FtXG4gICAgLy8gLS0tLS0tLVxuICAgIC8vIE1ha2UgdGhlIHdlYiBjYW0gYXZhaWxhYmxlIGFzIGEgdGV4dHVyZVxuICAgIGZ1bmN0aW9uIG1ha2VXZWJDYW1UZXh0dXJlICggdml6ICkge1xuICAgICAgICByZXR1cm4gVy5wcm9taXNlKCBmdW5jdGlvbiAoIHJlc29sdmUsIHJlamVjdCApIHtcblxuICAgICAgICAgICAgLy8gV2ViIENhbSBET00gRWxlbWVudFxuICAgICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgICAgdmFyIHdlYkNhbUVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndmlkZW8nKTtcbiAgICAgICAgICAgIHdlYkNhbUVsLmF1dG9wbGF5ID0gdHJ1ZTtcblxuICAgICAgICAgICAgLy8gV2ViIENhbSBTdHJlYW1cbiAgICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgICBuYXZpZ2F0b3Iud2Via2l0R2V0VXNlck1lZGlhKCB7IHZpZGVvOnRydWUgfSwgZnVuY3Rpb24oIHN0cmVhbSApe1xuICAgICAgICAgICAgICAgIHdlYkNhbUVsLnNyYyA9IFVSTC5jcmVhdGVPYmplY3RVUkwoIHN0cmVhbSApO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24oIGVyciApe1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRmFpbGVkIHRvIGdldCBhIHN0cmVhbSBkdWUgdG9cIiwgZXJyKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBXZWIgQ2FtIFRleHR1cmVcbiAgICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgICAgdml6LndlYkNhbVRleHR1cmUgPSBuZXcgVEhSRUUuVGV4dHVyZSggd2ViQ2FtRWwgKTtcbiAgICAgICAgICAgIHZpei53ZWJDYW1UZXh0dXJlLm1pbkZpbHRlciA9IFRIUkVFLkxpbmVhckZpbHRlcjtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gUmVuZGVyIFVwZGF0ZXNcbiAgICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgICBhZGRQcmVSZW5kZXJGbiggdml6LCBmdW5jdGlvbiAoIGRldGxhTVMsIHRpbWVzdGFtcE1TICkge1xuICAgICAgICAgICAgICAgIGlmKCB3ZWJDYW1FbC5yZWFkeVN0YXRlID09PSB3ZWJDYW1FbC5IQVZFX0VOT1VHSF9EQVRBICl7XG4gICAgICAgICAgICAgICAgICAgIHZpei53ZWJDYW1UZXh0dXJlLm5lZWRzVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcmVzb2x2ZSggdml6ICk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIEN1YmUgQ2FtZXJhXG4gICAgLy8gLS0tLS0tLS0tLS1cbiAgICAvLyBDcmVhdGUgYSBjdWJlIGNhbSBmb3IgYSBkeW5hbWljIGVudk1hcC5cbiAgICAvLyBUaGlzIGFsc28gZW5hYmxlcyB0d28gaG9va3M6IGBwcmVDdWJlQ2FtUmVuZGVyQWN0aW9uc2AgJiBgcG9zdEN1YmVDYW1SZW5kZXJBY3Rpb25zYFxuICAgIC8vIGluIHRoZSB2aXogZm9yIHRoYXQgb2JqZWN0M0QgaW4gdGhlIHNjZW5lIGNhbiBiZSB0dXJuZWQgb24gYW5kIG9mZiBkdXJpbmdcbiAgICAvLyB0aGUgd2ViY2FtcyByZW5kZXJcbiAgICBmdW5jdGlvbiBtYWtlQ3ViZUNhbSAoIHZpeiApIHsgXG4gICAgICAgIHJldHVybiBXLnByb21pc2UoIGZ1bmN0aW9uICggcmVzb2x2ZSwgcmVqZWN0ICkge1xuXG4gICAgICAgICAgICB2aXouY3ViZUNhbWVyYSA9IG5ldyBUSFJFRS5DdWJlQ2FtZXJhKDEsIDMwMDAsIDI1Nik7IC8vIG5lYXIsIGZhciwgcmVzb2x1dGlvblxuICAgICAgICAgICAgdml6LmN1YmVDYW1lcmEucmVuZGVyVGFyZ2V0Lm1pbkZpbHRlciA9IFRIUkVFLkxpbmVhck1pcE1hcExpbmVhckZpbHRlcjsgLy8gbWlwbWFwIGZpbHRlclxuICAgICAgICAgICAgXG4gICAgICAgICAgICBhZGRQcmVSZW5kZXJGbiggdml6LCBmdW5jdGlvbiAoIGRlbHRhTVMsIHRpbWVzdGFtcE1TICkgeyAgICBcbiAgICAgICAgICAgICAgICAvLyBSZW5kZXIgdGhlIGN1YmUgY2FtZXJhIHRvIGN1YmUgbWFwXG4gICAgICAgICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgICAgICAgIHZpei5wcmVDdWJlQ2FtUmVuZGVyRm5zLmZvckVhY2goIGZuID0+IGZuKCBkZWx0YU1TLCB0aW1lc3RhbXBNUyApICk7XG4gICAgICAgICAgICAgICAgdml6LmN1YmVDYW1lcmEudXBkYXRlQ3ViZU1hcCggdml6LnJlbmRlcmVyLCB2aXouc2NlbmUgKTtcbiAgICAgICAgICAgICAgICB2aXoucG9zdEN1YmVDYW1SZW5kZXJGbnMuZm9yRWFjaCggZm4gPT4gZm4oIGRlbHRhTVMsIHRpbWVzdGFtcE1TICkgKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICByZXNvbHZlKCB2aXogKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gV2ViIENhbSBNYXRlcmlhbFxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS1cbiAgICBmdW5jdGlvbiBtYWtlV2ViQ2FtTWF0ZXJpYWwgKCB2aXogKSB7XG4gICAgICAgIHJldHVybiBXLnByb21pc2UoIGZ1bmN0aW9uICggcmVzb2x2ZSwgcmVqZWN0ICkge1xuICAgICAgICAgICAgdml6LndlYkNhbU1hdGVyaWFsID0gbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHtcbiAgICAgICAgICAgICAgICBtYXA6IHZpei53ZWJDYW1UZXh0dXJlLFxuICAgICAgICAgICAgICAgIGNvbG9yOiAweGZmZmZmZixcbiAgICAgICAgICAgICAgICBzaWRlOiBUSFJFRS5Eb3VibGVTaWRlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJlc29sdmUoIHZpeiApO1xuICAgICAgICB9KTtcblxuICAgIH1cblxuICAgIC8vIFdlYiBDYW0gQm94IE1lc2hcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gQ3JlYXRlcyBhIGJveCB3aXRoIHRoZSB3ZWIgY2FtIGRpc3BsYXllZFxuICAgIC8vIG9uIHRoZSBpbnNpZGUgb2YgZWFjaCBvZiBpdCdzIDYgc2lkZXNcbiAgICBmdW5jdGlvbiBtYWtlV2ViQ2FtQm94TWVzaCAoIHZpeiApIHtcbiAgICAgICAgcmV0dXJuIFcucHJvbWlzZSggZnVuY3Rpb24gKCByZXNvbHZlLCByZWplY3QgKSB7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHZpei53ZWJDYW12Qm94TWVzaCA9IG5ldyBUSFJFRS5NZXNoKCBuZXcgVEhSRUUuQm94R2VvbWV0cnkoIDIwMDAsIDIwMDAsIDIwMDAgKSwgdml6LndlYkNhbU1hdGVyaWFsICk7XG5cbiAgICAgICAgICAgIHZhciByb3RhdGlvblggPSBXLnJhbmRvbUJldHdlZW4oIDAuMDAwMiwgMC4wMDAwMiApO1xuICAgICAgICAgICAgdmFyIHJvdGF0aW9uWSA9IFcucmFuZG9tQmV0d2VlbiggMC4wMDAyLCAwLjAwMDAyICk7XG4gICAgICAgICAgICB2YXIgcm90YXRpb25aID0gVy5yYW5kb21CZXR3ZWVuKCAwLjAwMDIsIDAuMDAwMDIgKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gSWYgd2Ugd2FudCB0byByb3RhdGUgaXRcbiAgICAgICAgICAgIGFkZFByZVJlbmRlckZuKCB2aXosIGZ1bmN0aW9uICggZGVsdGFNUywgdGltZXN0YW1wTVMgKSB7XG4gICAgICAgICAgICAgICAgdml6LndlYkNhbXZCb3hNZXNoLnJvdGF0aW9uLnggKz0gKCBkZWx0YU1TICogcm90YXRpb25YICk7XG4gICAgICAgICAgICAgICAgdml6LndlYkNhbXZCb3hNZXNoLnJvdGF0aW9uLnkgKz0gKCBkZWx0YU1TICogcm90YXRpb25ZICk7XG4gICAgICAgICAgICAgICAgdml6LndlYkNhbXZCb3hNZXNoLnJvdGF0aW9uLnogKz0gKCBkZWx0YU1TICogcm90YXRpb25aICk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdml6LnNjZW5lLmFkZCggdml6LndlYkNhbXZCb3hNZXNoICk7XG5cbiAgICAgICAgICAgIC8vIFNob3cgaXQgb25seSBmb3IgdGhlIGN1YmUgY2FtXG4gICAgICAgICAgICB2aXoucHJlQ3ViZUNhbVJlbmRlckZucy5wdXNoKCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdml6LndlYkNhbXZCb3hNZXNoLnZpc2libGUgPSB0cnVlO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHZpei5wb3N0Q3ViZUNhbVJlbmRlckZucy5wdXNoKCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdml6LndlYkNhbXZCb3hNZXNoLnZpc2libGUgPSB0cnVlO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJlc29sdmUoIHZpeiApO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBXZWIgQ2FtIEhlZHJvbiBNZXNoXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIGZ1bmN0aW9uIG1ha2VXZWJDYW1IZWRyb25NZXNoICggdml6ICkge1xuICAgICAgICByZXR1cm4gVy5wcm9taXNlKCBmdW5jdGlvbiAoIHJlc29sdmUsIHJlamVjdCApIHtcblxuICAgICAgICAgICAgLy8gTG9hZGVyXG4gICAgICAgICAgICAvLyAtLS0tLS1cbiAgICAgICAgICAgIHZhciBsb2FkZXIgPSBuZXcgVEhSRUUuT0JKTG9hZGVyKCk7XG4gICAgICAgICAgICBsb2FkZXIubG9hZCggJy9vYmovZG9kZWNhaGVkcm9uLm9iaicsIG9uT2JqTG9hZGVkICk7XG5cbiAgICAgICAgICAgIC8vIFN3YXJtIENyZWF0aW9uXG4gICAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgICBmdW5jdGlvbiBvbk9iakxvYWRlZCAoIG9iaiApIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyggb2JqLmNoaWxkcmVuWyAwIF0gKTtcbiAgICAgICAgICAgICAgICB2aXoud2ViQ2FtSGVkcm9uTWVzaCA9IG9iai5jaGlsZHJlblsgMCBdLmNsb25lKCk7IC8vbmV3IFRIUkVFLk1lc2goIG5ldyBUSFJFRS5Cb3hHZW9tZXRyeSggMjAwMCwgMjAwMCwgMjAwMCApLCBtYXRlcmlhbCApO1xuICAgICAgICAgICAgICAgIHZpei53ZWJDYW1IZWRyb25NZXNoLm1hdGVyaWFsID0gdml6LndlYkNhbU1hdGVyaWFsLmNsb25lKCk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgdmFyIHNjYWxlID0gMjAwMDtcbiAgICAgICAgICAgICAgICB2aXoud2ViQ2FtSGVkcm9uTWVzaC5zY2FsZS5zZXQoIHNjYWxlLCBzY2FsZSwgc2NhbGUgKTtcblxuICAgICAgICAgICAgICAgIHZhciByb3RhdGlvblggPSBXLnJhbmRvbUJldHdlZW4oIDAuMDAwMiwgMC4wMDAwMiApO1xuICAgICAgICAgICAgICAgIHZhciByb3RhdGlvblkgPSBXLnJhbmRvbUJldHdlZW4oIDAuMDAwMiwgMC4wMDAwMiApO1xuICAgICAgICAgICAgICAgIHZhciByb3RhdGlvblogPSBXLnJhbmRvbUJldHdlZW4oIDAuMDAwMiwgMC4wMDAwMiApO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIElmIHdlIHdhbnQgdG8gcm90YXRlIGl0XG4gICAgICAgICAgICAgICAgYWRkUHJlUmVuZGVyRm4oIHZpeiwgZnVuY3Rpb24gKCBkZWx0YU1TLCB0aW1lc3RhbXBNUyApIHtcbiAgICAgICAgICAgICAgICAgICAgdml6LndlYkNhbUhlZHJvbk1lc2gucm90YXRpb24ueCArPSAoIGRlbHRhTVMgKiByb3RhdGlvblggKTtcbiAgICAgICAgICAgICAgICAgICAgdml6LndlYkNhbUhlZHJvbk1lc2gucm90YXRpb24ueSArPSAoIGRlbHRhTVMgKiByb3RhdGlvblkgKTtcbiAgICAgICAgICAgICAgICAgICAgdml6LndlYkNhbUhlZHJvbk1lc2gucm90YXRpb24ueiArPSAoIGRlbHRhTVMgKiByb3RhdGlvblogKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB2aXouc2NlbmUuYWRkKCB2aXoud2ViQ2FtSGVkcm9uTWVzaCApO1xuXG4gICAgICAgICAgICAgICAgLy8gU2hvdyBpdCBvbmx5IGZvciB0aGUgY3ViZSBjYW1cbiAgICAgICAgICAgICAgICB2aXoucHJlQ3ViZUNhbVJlbmRlckZucy5wdXNoKCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZpei53ZWJDYW1IZWRyb25NZXNoLnZpc2libGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB2aXoud2ViQ2FtSGVkcm9uTWVzaC5tYXRlcmlhbC5jb2xvci5zZXQoIDB4ZmZmZmZmICk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICB2aXoucG9zdEN1YmVDYW1SZW5kZXJGbnMucHVzaCggZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2aXoud2ViQ2FtSGVkcm9uTWVzaC52aXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdml6LndlYkNhbUhlZHJvbk1lc2gubWF0ZXJpYWwuY29sb3Iuc2V0KCAweDZkNjg0MSApO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSggdml6ICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gTGlnaHRzXG4gICAgLy8gLS0tLS0tXG4gICAgZnVuY3Rpb24gbWFrZUxpZ2h0cyAoIHZpeiApIHtcbiAgICAgICAgcmV0dXJuIFcucHJvbWlzZSggZnVuY3Rpb24gKCByZXNvbHZlLCByZWplY3QgKSB7XG4gICAgICAgICAgICB2aXouc2NlbmUuYWRkKCBuZXcgVEhSRUUuQW1iaWVudExpZ2h0KCAweDIyMjIyMiApICk7XG5cbiAgICAgICAgICAgIHZhciBkaXJlY3Rpb25hbExpZ2h0ID0gbmV3IFRIUkVFLkRpcmVjdGlvbmFsTGlnaHQoIDB4ZmZmZmZmLCAyICk7XG4gICAgICAgICAgICBkaXJlY3Rpb25hbExpZ2h0LnBvc2l0aW9uLnNldCggMiwgMS4yLCAxMCApLm5vcm1hbGl6ZSgpO1xuICAgICAgICAgICAgdml6LnNjZW5lLmFkZCggZGlyZWN0aW9uYWxMaWdodCApO1xuXG4gICAgICAgICAgICBkaXJlY3Rpb25hbExpZ2h0ID0gbmV3IFRIUkVFLkRpcmVjdGlvbmFsTGlnaHQoIDB4ZmZmZmZmLCAxICk7XG4gICAgICAgICAgICBkaXJlY3Rpb25hbExpZ2h0LnBvc2l0aW9uLnNldCggLTIsIDEuMiwgLTEwICkubm9ybWFsaXplKCk7XG4gICAgICAgICAgICB2aXouc2NlbmUuYWRkKCBkaXJlY3Rpb25hbExpZ2h0ICk7ICBcbiAgICAgICAgICAgIHJlc29sdmUoIHZpeiApO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBTd2FybVxuICAgIC8vIC0tLS0tXG4gICAgZnVuY3Rpb24gbWFrZVN3YXJtICggdml6ICkge1xuICAgICAgICByZXR1cm4gVy5wcm9taXNlKCBmdW5jdGlvbiAoIHJlc29sdmUsIHJlamVjdCApIHtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdmFyIHBhcnRpY2xlcyA9IFtdO1xuXG4gICAgICAgICAgICAvLyBBZGQgdG8gU2NlbmVcbiAgICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLVxuICAgICAgICAgICAgdml6LnN3YXJtT2JqZWN0M0QgPSBuZXcgVEhSRUUuT2JqZWN0M0QoKTtcbiAgICAgICAgICAgIHZpei5zY2VuZS5hZGQoIHZpei5zd2FybU9iamVjdDNEICk7XG4gICAgICAgICAgICB2aXoucHJlQ3ViZUNhbVJlbmRlckZucy5wdXNoKCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdml6LnN3YXJtT2JqZWN0M0QudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB2aXoucG9zdEN1YmVDYW1SZW5kZXJGbnMucHVzaCggZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZpei5zd2FybU9iamVjdDNELnZpc2libGUgPSB0cnVlO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIFVwZGF0aW5nXG4gICAgICAgICAgICBhZGRQcmVSZW5kZXJGbiggdml6LCBmdW5jdGlvbiAoIGRlbHRhTVMsIHRpbWVzdGFtcE1TICkge1xuICAgICAgICAgICAgICAgIHBhcnRpY2xlcy5mb3JFYWNoKCBwYXJ0aWNsZSA9PiBwYXJ0aWNsZS51cGRhdGUoIGRlbHRhTVMsIHRpbWVzdGFtcE1TICkgKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBQYXJ0aWNsZSBDbGFzc1xuICAgICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgIGZ1bmN0aW9uIFBhcnRpY2xlICggbWVzaCApIHtcblxuICAgICAgICAgICAgICAgIC8vICMjIyBQb3NpdGlvbmluZ1xuICAgICAgICAgICAgICAgIHRoaXMucG9zaXRpb25TY2FsYXIgPSBXLmludGVycG9sYXRpb25zLmN1YmljRWFzZU91dCggTWF0aC5yYW5kb20oKSApO1xuICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgdmFyIHNjYWxlID0gUGFydGljbGUuaW5pdGlhbFNjYWxlICogVy5tYXAoIHRoaXMucG9zaXRpb25TY2FsYXIsIDAsIDEsIDAuNCwgMSApO1xuXG4gICAgICAgICAgICAgICAgLy8gTWVzaFxuICAgICAgICAgICAgICAgIHRoaXMubWVzaCA9IG1lc2guY2xvbmUoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmFuY2hvciA9IG5ldyBUSFJFRS5PYmplY3QzRCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuYW5jaG9yLmFkZCggdGhpcy5tZXNoICk7XG4gICAgICAgICAgICAgICAgdGhpcy5tZXNoLm1hdGVyaWFsID0gUGFydGljbGUubWF0ZXJpYWwuY2xvbmUoKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1lc2guc2NhbGUueCA9IHNjYWxlO1xuICAgICAgICAgICAgICAgIHRoaXMubWVzaC5zY2FsZS55ID0gc2NhbGU7XG4gICAgICAgICAgICAgICAgdGhpcy5tZXNoLnNjYWxlLnogPSBzY2FsZTtcblxuICAgICAgICAgICAgICAgIHZhciByYW5nZU1heFggPSA2MDtcblxuICAgICAgICAgICAgICAgIHRoaXMubWVzaC5wb3NpdGlvbi5zZXQoIHJhbmdlTWF4WCAqICgxIC0gdGhpcy5wb3NpdGlvblNjYWxhciksIFcucmFuZG9tQmV0d2VlbiggLTUwLCA1MCApLCAwICk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy90aGlzLm1lc2gucG9zaXRpb24uc2V0KCByYW5nZU1heCAqIHBvc2l0aW9uU2NhbGFyLCAwLCAwICk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLm1lc2gucm90YXRpb24ueCA9IFcucmFuZG9tQmV0d2VlbiggLTE4MCwgMTgwICk7XG4gICAgICAgICAgICAgICAgdGhpcy5tZXNoLnJvdGF0aW9uLnkgPSBXLnJhbmRvbUJldHdlZW4oIC0xODAsIDE4MCApO1xuICAgICAgICAgICAgICAgIHRoaXMubWVzaC5yb3RhdGlvbi56ID0gVy5yYW5kb21CZXR3ZWVuKCAtMTgwLCAxODAgKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuYW5jaG9yLnJvdGF0aW9uLnkgKz0gIFcucmFuZG9tQmV0d2VlbiggLTE4MCwgMTgwICk7XG5cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyB2YXIgcmFuZ2UgPSAxMDA7XG4gICAgICAgICAgICAgICAgLy8gdGhpcy5tZXNoLnBvc2l0aW9uLnNldCggKCBNYXRoLnJhbmRvbSgpIC0gMC41ICkgKiByYW5nZSwgKCBNYXRoLnJhbmRvbSgpIC0gMC41ICkgKiByYW5nZSwgKCBNYXRoLnJhbmRvbSgpIC0gMC41ICkgKiByYW5nZSApO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyAjIyMgU3RhdGljXG4gICAgICAgICAgICBQYXJ0aWNsZS5tYXRlcmlhbCA9IG5ldyBUSFJFRS5NZXNoUGhvbmdNYXRlcmlhbCgge1xuICAgICAgICAgICAgICAgIGNvbG9yOiAweGZmZmZmZixcbiAgICAgICAgICAgICAgICBzaGluaW5lc3M6IDAuMCxcbiAgICAgICAgICAgICAgICBzcGVjdWxhcjogMHhmZmZmZmYsXG4gICAgICAgICAgICAgICAgZW52TWFwOiB2aXouY3ViZUNhbWVyYS5yZW5kZXJUYXJnZXQsXG4gICAgICAgICAgICAgICAgcmVmbGVjdGl2aXR5OiAxLjAsXG4gICAgICAgICAgICAgICAgc2lkZTogVEhSRUUuRG91YmxlU2lkZVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIFBhcnRpY2xlLmluaXRpYWxTY2FsZSA9IDMwMDtcblxuICAgICAgICAgICAgLy8gIyMjIE1ldGhvZFxuICAgICAgICAgICAgUGFydGljbGUucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uICggZGVsdGFNUywgdGltZXN0YW1wTVMgKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hbmNob3Iucm90YXRpb24ueCArPSB2aXoudmVsb2NpdHlbIDAgXSAqICggMSAtIHRoaXMucG9zaXRpb25TY2FsYXIgKSAqIDAuNDtcbiAgICAgICAgICAgICAgICB0aGlzLmFuY2hvci5yb3RhdGlvbi55ICs9IHZpei52ZWxvY2l0eVsgMSBdICogKCAxIC0gdGhpcy5wb3NpdGlvblNjYWxhciApICogMC40O1xuICAgICAgICAgICAgICAgIHRoaXMuYW5jaG9yLnJvdGF0aW9uLnogKz0gdml6LnZlbG9jaXR5WyAyIF0gKiAoIDEgLSB0aGlzLnBvc2l0aW9uU2NhbGFyICkgKiAwLjQ7XG4gICAgICAgICAgICAgICAgdGhpcy5tZXNoLnJvdGF0aW9uLnggKz0gMC4wMDI7XG4gICAgICAgICAgICAgICAgdGhpcy5tZXNoLnJvdGF0aW9uLnkgKz0gMC4wMDE7XG4gICAgICAgICAgICAgICAgdGhpcy5tZXNoLnJvdGF0aW9uLnogKz0gMC4wMDM7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvLyBMb2FkZXJcbiAgICAgICAgICAgIC8vIC0tLS0tLVxuICAgICAgICAgICAgdmFyIGxvYWRlciA9IG5ldyBUSFJFRS5PQkpMb2FkZXIoKTtcbiAgICAgICAgICAgIGxvYWRlci5sb2FkKCAnL29iai9waWxsb3ctYm94Lm9iaicsIG9uT2JqTG9hZGVkICk7XG5cbiAgICAgICAgICAgIC8vIFN3YXJtIENyZWF0aW9uXG4gICAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgICBmdW5jdGlvbiBvbk9iakxvYWRlZCAoIG9iaiApIHtcblxuICAgICAgICAgICAgICAgIHZhciBtZXNoID0gb2JqLmNoaWxkcmVuWyAwIF07XG5cbiAgICAgICAgICAgICAgICAvLyBQYXJ0aWNsZSBDcmVhdGlvblxuICAgICAgICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgICAgICAgLy8gRWFzZSBpbiB0aGUgY3JlYXRpb24gb2YgdGhlIHBhcnRpY2xlc1xuICAgICAgICAgICAgICAgIHZhciBtYXhQYXJ0aWNsZXMgPSAxMDA7XG4gICAgICAgICAgICAgICAgdmFyIG1pbkNyZWF0aW9uVGltZSA9IDU7XG4gICAgICAgICAgICAgICAgdmFyIG1heENyZWF0aW9uVGltZU1TID0gMjA7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgKGZ1bmN0aW9uIGNyZWF0ZU1vcmUgKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIHBhcnRpY2xlcy5sZW5ndGggPCBtYXhQYXJ0aWNsZXMgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGFydGljbGUgPSBuZXcgUGFydGljbGUoIG1lc2ggKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpei5zd2FybU9iamVjdDNELmFkZCggcGFydGljbGUuYW5jaG9yICk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJ0aWNsZXMucHVzaCggcGFydGljbGUgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoIGNyZWF0ZU1vcmUsIFcubWFwKCBwYXJ0aWNsZXMubGVuZ3RoIC8gbWF4UGFydGljbGVzLCAwLCAxLCBtYXhDcmVhdGlvblRpbWVNUywgbWluQ3JlYXRpb25UaW1lLCBXLmludGVycG9sYXRpb25zLmVhc2VJbiApICk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICByZXNvbHZlKCB2aXogKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gUmVuZGVyIExvb3BcbiAgICAvLyAtLS0tLS0tLS0tLVxuICAgIGZ1bmN0aW9uIG1ha2VSZW5kZXJMb29wICggdml6ICkge1xuICAgICAgICByZXR1cm4gVy5wcm9taXNlKCBmdW5jdGlvbiAoIHJlc29sdmUsIHJlamVjdCApIHtcblxuICAgICAgICAgICAgdmFyIGxhc3RUaW1lc3RhbXBNUyA9IDA7XG4gICAgICAgICAgICB2YXIgZGVsdGFNUyA9IDA7XG5cbiAgICAgICAgICAgIChmdW5jdGlvbiAgbG9vcCAoIGN1cnJlbnRUaW1lc3RhbXBNUyApIHtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyBSZWN1clxuICAgICAgICAgICAgICAgIC8vIC0tLS0tXG4gICAgICAgICAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSggbG9vcCApO1xuXG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIHRpbWVzdGFtcHNcbiAgICAgICAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgICAgICBkZWx0YU1TID0gY3VycmVudFRpbWVzdGFtcE1TIC0gbGFzdFRpbWVzdGFtcE1TO1xuICAgICAgICAgICAgICAgIGxhc3RUaW1lc3RhbXBNUyA9IGN1cnJlbnRUaW1lc3RhbXBNUztcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyBBY3Rpb25hYmxlc1xuICAgICAgICAgICAgICAgIC8vIC0tLS0tLS0tLS0tXG4gICAgICAgICAgICAgICAgdml6LnByZVJlbmRlckZucy5mb3JFYWNoKCBmbiA9PiBmbiggZGVsdGFNUywgY3VycmVudFRpbWVzdGFtcE1TICkgKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyBSZW5kZXJcbiAgICAgICAgICAgICAgICAvLyAtLS0tLS1cbiAgICAgICAgICAgICAgICAvLyB2aXoucmVuZGVyZXIuY2xlYXIoKTtcbiAgICAgICAgICAgICAgICAvL3Zpei5yZW5kZXJlci5yZW5kZXIoIHZpei5zY2VuZSwgdml6LmNhbWVyYSApO1xuICAgICAgICAgICAgICAgIHZpei5jb21wb3Nlci5yZW5kZXIoKTtcblxuICAgICAgICAgICAgfSggbGFzdFRpbWVzdGFtcE1TICkpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICByZXNvbHZlKCB2aXogKTtcbiAgICAgICAgfSk7XG5cbiAgICB9XG5cbiAgICAvLyBVdGlsc1xuICAgIC8vID09PT09XG5cbiAgICAvLyBSZW5kZXIgTG9vcFxuICAgIC8vIC0tLS0tLS0tLS0tXG4gICAgZnVuY3Rpb24gYWRkUHJlUmVuZGVyRm4gKCB2aXosIGZuICkge1xuICAgICAgICB2aXoucHJlUmVuZGVyRm5zLnB1c2goIGZuICk7XG4gICAgICAgIHJldHVybiB2aXo7XG4gICAgfVxuXG4gICAgLy8gQ2FtZXJhXG4gICAgLy8gLS0tLS0tXG4gICAgZnVuY3Rpb24gc2V0Q2FtZXJhUG9zaXRpb24gKCB2aXosIHgsIHksIHogKSB7XG4gICAgICAgIHZpei5jYW1lcmEucG9zaXRpb24ueCA9IHg7XG4gICAgICAgIHZpei5jYW1lcmEucG9zaXRpb24ueSA9IHk7XG4gICAgICAgIHZpei5jYW1lcmEucG9zaXRpb24ueiA9IHo7XG4gICAgICAgIHJldHVybiB2aXo7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0VmVsb2NpdHkgKCB2aXosIHgsIHksIHogKSB7XG4gICAgICAgIGlmICggVy5pc0RlZmluZWQoIHggKSAmJiB4ICE9PSBudWxsICkgeyB2aXoudmVsb2NpdHlbIDAgXSA9IHg7IH1cbiAgICAgICAgaWYgKCBXLmlzRGVmaW5lZCggeSApICYmIHkgIT09IG51bGwgKSB7IHZpei52ZWxvY2l0eVsgMSBdID0geTsgfVxuICAgICAgICBpZiAoIFcuaXNEZWZpbmVkKCB6ICkgJiYgeiAhPT0gbnVsbCApIHsgdml6LnZlbG9jaXR5WyAyIF0gPSB6OyB9XG4gICAgICAgIHJldHVybiB2aXo7XG4gICAgfVxuICAgIFxuICAgIC8vIEV4cG9ydFxuICAgIC8vID09PT09PSAgICBcbiAgICByZXR1cm4ge1xuICAgICAgICBtYWtlVml6OiBtYWtlVml6LFxuICAgICAgICBpbml0Vml6OiBpbml0Vml6LFxuICAgICAgICBzZXRWZWxvY2l0eTogc2V0VmVsb2NpdHlcbiAgICB9O1xuICAgIFxufSgpKTtcblxuXG5cblxuXG5cbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==